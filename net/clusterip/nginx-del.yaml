#方法1
kubectl delete -f resources.yaml
  
#方法2
kubectl delete pod my-pod -n my-namespace
kubectl delete service my-service -n my-namespace
kubectl delete namespace my-namespace

#方法3
kubectl delete pod my-pod service my-service namespace my-namespace -n my-namespace

#方法4
kubectl delete namespace my-namespace


#--grace-period=0 --force --wait=false
[root@k8s01 clusterip]# kubectl get all -A -owide
NAMESPACE      NAME                                READY   STATUS    RESTARTS         AGE     IP               NODE    NOMINATED NODE   READINESS GATES
kube-flannel   pod/kube-flannel-ds-fc5mg           1/1     Running   0                175m    172.16.166.139   k8s02   <none>           <none>
kube-flannel   pod/kube-flannel-ds-m9jgr           1/1     Running   0                175m    172.16.166.138   k8s01   <none>           <none>
kube-flannel   pod/kube-flannel-ds-qfvf4           1/1     Running   0                175m    172.16.166.140   k8s03   <none>           <none>
kube-system    pod/coredns-66f779496c-94kqj        1/1     Running   0                5h29m   10.244.1.19      k8s02   <none>           <none>
kube-system    pod/coredns-66f779496c-n2qjz        1/1     Running   0                5h29m   10.244.1.20      k8s02   <none>           <none>
kube-system    pod/etcd-k8s01                      1/1     Running   6                5h29m   172.16.166.138   k8s01   <none>           <none>
kube-system    pod/kube-apiserver-k8s01            1/1     Running   49 (167m ago)    5h29m   172.16.166.138   k8s01   <none>           <none>
kube-system    pod/kube-controller-manager-k8s01   1/1     Running   106 (168m ago)   5h29m   172.16.166.138   k8s01   <none>           <none>
kube-system    pod/kube-proxy-cnqd7                1/1     Running   0                4h54m   172.16.166.139   k8s02   <none>           <none>
kube-system    pod/kube-proxy-dqfwb                1/1     Running   0                4h54m   172.16.166.140   k8s03   <none>           <none>
kube-system    pod/kube-proxy-vzp5j                1/1     Running   0                5h29m   172.16.166.138   k8s01   <none>           <none>
kube-system    pod/kube-scheduler-k8s01            1/1     Running   105 (168m ago)   5h29m   172.16.166.138   k8s01   <none>           <none>
my-namespace   pod/my-pod                          1/1     Running   0                115s    10.244.2.11      k8s03   <none>           <none>

NAMESPACE      NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                  AGE     SELECTOR
default        service/kubernetes   ClusterIP   10.96.0.1       <none>        443/TCP                  5h29m   <none>
kube-system    service/kube-dns     ClusterIP   10.96.0.10      <none>        53/UDP,53/TCP,9153/TCP   5h29m   k8s-app=kube-dns
my-namespace   service/my-service   ClusterIP   10.96.131.186   <none>        80/TCP                   115s    app=my-app

NAMESPACE      NAME                             DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE     CONTAINERS     IMAGES                                                       SELECTOR
kube-flannel   daemonset.apps/kube-flannel-ds   3         3         3       3            3           <none>                   175m    kube-flannel   rancher/mirrored-flannelcni-flannel:v0.18.0                  app=flannel
kube-system    daemonset.apps/kube-proxy        3         3         3       3            3           kubernetes.io/os=linux   5h29m   kube-proxy     registry.aliyuncs.com/google_containers/kube-proxy:v1.28.2   k8s-app=kube-proxy

NAMESPACE     NAME                      READY   UP-TO-DATE   AVAILABLE   AGE     CONTAINERS   IMAGES                                                    SELECTOR
kube-system   deployment.apps/coredns   2/2     2            2           5h29m   coredns      registry.aliyuncs.com/google_containers/coredns:v1.10.1   k8s-app=kube-dns

NAMESPACE     NAME                                 DESIRED   CURRENT   READY   AGE     CONTAINERS   IMAGES                                                    SELECTOR
kube-system   replicaset.apps/coredns-66f779496c   2         2         2       5h29m   coredns      registry.aliyuncs.com/google_containers/coredns:v1.10.1   k8s-app=kube-dns,pod-template-hash=66f779496c

#service 访问 pod
#各个节点都可以访问
[root@k8s01 clusterip]# curl 10.96.131.186
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
html { color-scheme: light dark; }
body { width: 35em; margin: 0 auto;
       font-family: Tahoma, Verdana, Arial, sans-serif; }
</style>
  </head>
  <body>
  <h1>Welcome to nginx!</h1>
  <p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>



